{% load staticfiles %}
{% load roster_extras %}

<div>
    <div class="card">
        <div class="card-header"><h4>MoD Tracker</h4></div>
        <div class="card-body">
            <div class="carousel slide modTrack" id="modCarousel" data-ride='carousel'>
                <ul class="carousel-indicators">
                        <li data-target="#modCarousel" data-slide-to="0" class="active"></li>
                        <li data-target="#modCarousel" data-slide-to="1"></li>
                </ul>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <div class="media curMoD">
                            {% if curr_mod %}
                            <div class="media-left">
                                <img src="{% static curr_mod.owner.picture|img_exists %}" class='img-circle sideMoDImg'>
                            </div>
                            <div class="media-body">
                                <h4 class='media-heading modName'>Now: {{curr_mod.owner}}</h4>
                                <p>{{curr_mod.pretty_duration}}</p>
                            </div>
                            {% else %}
                            <div class="media-body">
                                <h4 class="media-heading modName">Current: None</h4>
                                <p>Try the MoD phone or Slack!</p>
                            </div>
                            {% endif %}
                            </div>
                        </div>
                    <div class="carousel-item">
                        <div class="media nextMoD">
                            {% if next_mod %}
                            <div class="media-left">
                                <img src="{% static next_mod.owner.picture|img_exists %}" class='img-circle sideMoDImg'>
                            </div>
                            <div class="media-body">
                                <h4 class='media-heading modName'>Next: {{next_mod.owner}}</h4>
                                <p>{{next_mod.pretty_duration}}</p>
                            </div>
                            {% else %}
                            <div class="media-body">
                                <h4 class="media-heading modName">Next: None</h4>
                                <p>Sorry about that!</p>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
                <a class="carousel-control-prev" href="#modCarousel" data-slide="prev">
                    <span class="carousel-control-prev-icon"></span>
                </a>
                <a class="carousel-control-next" href="#modCarousel" data-slide="next">
                    <span class="carousel-control-next-icon"></span>
                </a>
            </div>
        </div>
    </div>
    <div class="card">
        <div class="card-header">
            <div class="media">
                <div class="media-body">
                    <h4>
                        {% if my_shift %}
                            {% if my_shift_happening %}
                                My Shift<br>
                                <small> {{my_shift.pretty_location}}: {{my_shift.pretty_duration}}</small>
                            {% else %}
                                My Next Shift:
                            {% endif %}
                        {% else %}
                        No Upcoming Shifts
                        {% endif %}
                    </h4>
                </div>
                <div class="media-right">
                    <!--<img class="sh-checkin-img img-circle" src="{% static 'roster/checked-in-False-time.png'%}">-->
                </div>
            </div>
        </div>
        <div class="card-body">
            <div class="media">
                <div class="media-body">
                    <!-- Pending shift status in release 1.2
                    <div class="shLine shStatus">
                        <p class="shText">Shift Status: </p>
                        <p class="shText" id="shStatusIn">Checked In</p>
                    </div>
                    -->

                    {% if my_shift %}
                    {% if my_shift_happening %}
                    <div class="shMeta" style="display:none">
                        <p class="sh-end">{{my_shift.shift_end|date:"c"}}</p>
                        <p class="tech-type">{{user.position}}</p>
                    </div>
                    <div class="shLine shEnd">
                        <p class="shText">Shift ends in: </p>
                        <p class="shText" id="shEndsIn"></p>
                        <p class="shText">min</p>
                    </div>
                    <div class="shLine shRounds">
                        <p class="shText">Report due in:</p>
                        <p class="shText" id="shRoundsIn"></p>
                        <p class="shText">min</p>
                    </div>
                    <!--
                    <div class="shLine shBreak">
                        <p class="shText">Break length: </p>
                        <p class="shText" id="shBreakIn"></p>
                        <p class="shText">min</p>
                    </div>
                    -->
                    {% else %}
                    <p>{{my_shift.pretty_location}},<br>{{my_shift.pretty_duration}}, <br>{{my_shift.shift_date}}</p>

                    {% endif %}
                    {% endif %}

                </div>
            </div>
        </div>
    </div>
    <div class="card">
<<<<<<< HEAD
        <div class="card-header"><h4>My Awards</h4></div>
        <div class="card-body">
=======
        <div class="card"><h4>My Awards</h4></div>
        <div class="card-block">
>>>>>>> 4576f64744a9797bf462807cccd79be3bde733d6
            {% include 'trophycase/trophycase.html' with trophy_list=trophy_list %}
        </div>
    </div>
</div>
