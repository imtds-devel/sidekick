{% extends 'sidekick/app-base.html' %}
{% block content %}
{% load staticfiles %}
{% load roster_extras %}
<div class='container-fluid'>
    <div class='hero-cards'>
        {% if employee_list %}
            {% for employee in employee_list %}
            <div class='panel panel-default hero-card'>
                <button type='button'
                        class='btn hero-card-button btn-block {{employee.position}} dev_{{employee.developer}}'
                        data-toggle='modal'>
                    <div class='panel-body'>
                        <div class="media">
                            <div class="media-left">
                                <img src='{% static employee.picture|img_exists %}' class='img-circle img-herocard'>
                            </div>
                            <div class="media-body e_desc">
                                <p class="e_field"><b>{{employee.full_name}}</b></p>
                                <p class="e_field"> {{employee.short_desc}} </p>
                                <p class="e_field"> {{employee.netid}}</p>
                                <p class="e_field"> {{employee.nice_phone}} </p>
                            </div>
                            <div id="m-{{employee.netid}}" class="emp-meta" style="display:none">
                                <ul class="m-info">
                                    <il class="m-fname">{{employee.fname}}</il>
                                    <il class="m-lname">{{employee.lname}}</il>
                                </ul>
                            </div>
                        </div>
                    </div>
                </button>
            </div>
            {% endfor %}
        {% else %}
            <div class='page-header'>Ain't got none</div>
        {% endif %}

        <div class="panel panel-default hero-card">
            <button type="button"
                    class="btn hero-card-button btn-block new-user-btn"
                    data-toggle="modal" data-target="#new-user">
                <div class="panel-body">
                    <div class="media">
                        <div class="media-body">
                            <img src="{% static 'roster/plus.png' %}" class="new-plus">
                        </div>
                    </div>
                </div>

            </button>
        </div>
    </div>
    {% for employee in employee_list %}
    <div id='{{employee.netid}}' class='modal fade'>
        <div class='modal-dialog modal-lg'>
            <div class='modal-content {{employee.position}} dev_{{employee.developer}}'>
                <div class='modal-header'>
                    <button type='button' class='close' data-dismiss='modal'>&times;</button>
                    <h4 style="text-align: center" class='modal-title'>{{employee.full_name}}</h4>
                </div>
                <div class='modal-body hero-bio'>
                    <img src='{% static employee.picture|img_exists %}' class='img-circle img-herobio'>
                    <div class='hero-bio'>
                        <p> {{employee.full_name}} </p>
                        <p> {{employee.netid}} </p>
                        <p> {{employee.codename}} </p>
                        <p> {{employee.nice_position}} </p>
                        <p> {{employee.nice_phone}} </p>
                        <p> {{employee.birthday}} </p>
                    </div>
                </div>
                <div class='modal-footer'>
                    <button type='button' class='btn btn-default' data-dismiss='modal'>Close</button>
                </div>
            </div>
        </div>
    </div>
    {% endfor%}
    <div id="new-user" class="modal fade">
        <div class="modal-dialog modal-md">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Add User</h4>
                </div>
                <div class="modal-body">
                    <form method="post" class="form-horizontal">
                        {% csrf_token %}
                        {% for field in form.visible_fields %}
                        <div class="form-group">
                            {{ field.errors }}
                            <label class="control-lavel col-sm-2" for="{{ field.id_for_label }}">{{ field.label }}</label>
                            <div class="col-sm-10">
                                {{ field }}
                            </div>
                        </div>

                        {% endfor %}
                        <button class="btn btn-success">Create</button>
                        <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="{% static "js/roster.js" %}"></script>
{% endblock %}