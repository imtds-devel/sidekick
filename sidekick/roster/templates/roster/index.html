{% extends 'sidekick/app-base.html' %}
{% block content %}
{% load staticfiles %}
{% load roster_extras %}
<div class='container-fluid'>
    <div class="search" align="right">
        <form class="search-bar" style="margin-right: 20px">
            <span class="glyphicon glyphicon-search"></span>
            <input type="text" name="search" placeholder=" Search..." id="searchbar">
        </form>
    </div>
    <div class='hero-cards'>
        {% if employee_list %}
        {% for employee, skills in employee_list %}
        <div class='panelemp panel-default hero-card' id="{{employee.search}}">
            <button type='button'
                    class='btn hero-card-button btn-block {{employee.position}} dev_{{employee.developer}}'
                    data-toggle='modal'>
                <div class='panel-body'>
                    <div class="media">
                        <div class="media-left">
                            <img src='{% static employee.picture|img_exists %}' class='img img-circle img-herocard'>
                        </div>
                        <div class="media-body e_desc">
                            <p class="e_field"><b>{{employee.full_name}}</b></p>
                            <p class="e_field"> {{employee.short_desc}} </p>
                            <p class="e_field"> {{employee.netid}}</p>
                            <p class="e_field"> {{employee.nice_phone}} </p>
                        </div>
                        <div id="m-{{employee.netid}}" class="emp-meta" style="display:none">
                            <ul class="m-info">
                                <li class="m-fullname">{{employee.full_name}}</li>
                                <li class="m-id">{{employee.netid}}</li>
                                <li class="m-code">{{employee.codename}}</li>
                                <li class="m-position">{{employee.nice_position}}</li>
                                <li class="m-phone">{{employee.nice_phone}}</li>
                                <li class="m-birth">{{employee.birthday}}</li>
                                <li class="m-poscol">{{employee.position}}</li>
                                <li class="m-pic">{% static employee.picture|img_exists %}</li>
                                <li class="m-profs">{{skills|first}}</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </button>
        </div>
        {% endfor %}
        {% else %}
        <div class='page-header'>Ain't got none</div>
        {% endif %}

        <div class="panel panel-default hero-card">
            <button type="button"
                    class="btn hero-card-button btn-block new-user-btn"
                    data-toggle="modal" data-target="#new-user">
                <div class="panel-body">
                    <div class="media">
                        <div class="media-body">
                            <img src="{% static 'roster/plus.png' %}" class="new-plus">
                        </div>
                    </div>
                </div>

            </button>
        </div>
    </div>
    
    <div id='drop-down'></div>
    <div id="new-user" class="modal fade">
        <div class="modal-dialog modal-md">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Add User</h4>
                </div>
                <div class="modal-body">
                    <form method="post" class="form-horizontal">
                        {% csrf_token %}
                        {% for field in empform.visible_fields %}
                        <div class="form-group">
                            {{ field.errors }}
                            <label class="control-lavel col-sm-2" for="{{ field.id_for_label }}">{{ field.label }}</label>
                            <div class="col-sm-10">
                                {{ field }}
                            </div>
                        </div>

                        {% endfor %}
                        <button class="btn btn-success">Create</button>
                        <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div id="comment-form">
        <form method="post" class="form-horizontal" id="comform" style="display:none">
            {% csrf_token %}
            <div class="form-group">
                <label for="comm-subject">Subject:</label>
                <input type="text" class="form-control" id="comm-subject" title="Subject">
            </div>
            <div class="form-group">
                <label for="comm-body">Comment:</label>
                <textarea class="form-control" id="comm-body" rows="5" title="Commment"></textarea>
            </div>
            <input type="hidden" name="about" id = "comm-about" value="">
            <h5 align="right"><button class="btn btn-success" id="submit-comment">Submit</button></h5>
        </form>

    </div>
    <div id="star-form">
        <form method="post" class="form-horizontal" id="starform" style="display:none">
            {% csrf_token %}
            {% for field in starform.visible_fields %}
            <div class="form-group">
                {{ field.errors }}
                <label class="control col-sm-4" for="{{ field.id_for_label }}"><b>{{ field.label }}:</b></label>
                <div class="col-sm-8">
                    {{field}}
                </div>
            </div>
            {% endfor %}
            <input type="hidden" name="giver" required id = "id_giver" value="">
            <input type="hidden" name="recipient" required id = "id_recipient" value="">
            <h5 align="right"><button class="btn btn-success btn-sm">Trophy!</button></h5>
        </form>
    </div>
</div>
<script src="{% static "js/roster.js" %}"></script>
{% endblock %}